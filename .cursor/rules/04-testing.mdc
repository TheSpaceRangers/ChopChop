---
globs: **/*.test.ts,**/*.test.tsx
description: Règles de tests avec Vitest + Testing Library
---

# Tests (Vitest + React Testing Library)

- Config: [vitest.config.ts](mdc:vitest.config.ts) | Setup: [src/setupTests.ts](mdc:src/setupTests.ts)
- Importer `@testing-library/jest-dom` (déjà dans le setup) pour des matchers expressifs.
- Préférer les queries par rôle/texte (`getByRole`, `findByText`) aux `data-testid`.
- Simuler les interactions avec `@testing-library/user-event`.
- Tester le comportement et l'UI observable, pas les détails d'implémentation.
- Couverture: `npm run test:coverage` (voir `coverage` dans la config).

## Commandes utiles

- `npm run test` | `npm run test:watch`
